<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1"><title>Kiyeon&#39;s Blog</title><link rel=stylesheet type=text/css href=/css/ybasic.css><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atelier-heath-dark.min.css><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/dos.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/lisp.min.js></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class=content><h1 class=title title="December 12, 2017 10:46:46">CRLF</h1><nav id=TableOfContents><ul><li><a href=#운영체제별-줄바꿈-문자>운영체제별 줄바꿈 문자</a></li><li><a href=#vim>vim</a></li></ul></nav><p>CRLF는 <a href=https://ko.wikipedia.org/wiki/%EC%83%88%EC%A4%84_%EB%AC%B8%EC%9E%90>새줄 문자</a>를 말한다. New Line, Line Break, Line Separators, EOL(End-Of-Line)라고도 한다.</p><p><strong>CR(Carrige Return)</strong><br>* 현재 라인에서 커서를 제일 앞으로 이동 * 아스키(13, 0x0D), \r</p><p><strong>LF(Line Feed)</strong><br>* 커서의 위치는 그대로 두고 종이를 한 라인 위로 올리는 동작 * 아스키(10, 0x0A), \n</p><h1 id=운영체제별-줄바꿈-문자>운영체제별 줄바꿈 문자</h1><p>OS별로 줄바꿈 문자가 다르다.</p><ul><li>Windows : CRLF(\r\n)</li><li>*nix and macOS : LF(\n)</li><li>Classic Mac : CR(\r)</li></ul><p>이럴때 발생할 수 있는 문제 * 줄바꿈이 제대로 표현되지 않아 다닥다닥 붙는다 * EOL에 특수문자(^M)가 표시된다</p><p>뭐가 문제 되나? git의 연관관계 autocrlf = input 옵션은?</p><h1 id=vim>vim</h1><p>CR, LF, ^M - vi로 DOS&lt;-&gt;UNIX 줄바꿈 전환 vi로 DOS&lt;-&gt;UNIX 줄바꿈 전환</p><p>CR, LF 는 줄바꿈 문자.. DOS&lt;-&gt;Unix화일 주고 받을때 종종 문제가 되는데.. 모른척 종종 넘겨버렷으나 이번기회에 대충 집고 넘어가기..</p><ul><li><p>유닉스(Unix)/리눅스(Linux)에는, LF (헥사로는 0x0A에 해당) 문자로 줄바꿈을 하고</p></li><li><p>도스(DOS)/윈도우(Windows)에서는, CR-LF (헥사로는 0x0D 0x0A에 해당) 라는 2문자로 줄바꿈을 하고</p></li><li><p>맥(Mac)에서는, CR (헥사로는 0x0D 에 해당) 로 줄바꿈합니다. &ldquo;\n&rdquo; 로 표현합니다.</p></li></ul><p>줄바꿈 문자는 눈에 보이지 않기 때문에, 파일로 저장한 후, &ldquo;헥사 뷰어&rdquo;나, &ldquo;헥사 에디터&rdquo;로 보아야 알 수 있다. UltraEdit Edit-&gt;Hex Functions을 사용하거나.. cmd&gt; hexdump.pl FileName.txt</p><p>유닉스에서 DOS화일을 바꾸는 방법(출처:<a href=http://yoonow.tistory.com/56>http://yoonow.tistory.com/56</a>) 1. vi(m)이 열린 상태 1.1 문자 치환 명령 이용</p><p>다음과 같이 문자 치환 명령으로 이 문자를 없애도록 합니다. :1,$s/^M//g</p><p>물론 이것의 입력은 다음과 같이 하도록 합니다. :1,$s/[Control]+v+m을 누른다.//g</p><p>1.2 파일포맷 변경</p><p>vim 5.0 이상에서는 다음과 같이 명령을 내리도록 합니다 :set fileformat=unix</p><p>혹은 :set ff=unix</p><p>그리고, 저장하고 종료합니다. :wq</p><p>이와 반대로 끝에 ^M 을 붙이려면(과연 누가..) 다음과 같이 합니다. :set fileformat=dos</p><p>이전버전에서는 다음과 같이 합니다. :set textmode</p><ol><li>프롬프트 상에서 2.1 dos2unix 이용</li></ol><p>dos2unix와 unix2dos를 이용하여 변환할 수 있습니다.</p><p>다음과 같이 하면 ^M 문자가 없어집니다. $ dos2unix fileName.txt</p><p>^M is ascii 15 so : $ sed &rsquo;s/&rsquo;<code>echo &quot;\015&quot;</code>&rsquo;//g&rsquo; file &gt; filenew</p><p>tr -d &ldquo;\015\032&rdquo; &lt; dosfile &gt; unixfile 015 is CR 032 is Ctrl-Z</p><p>그리고 다음과 같이 하면 ^M 문자가 생기죠. $ unix2dos FileeName.txt</p><p>2.2 cat과 tr을 이용한 방법</p><p>다음과 같이 하면 해당 파일의 ^M 문자가 없어집니다. $ cat dos-file | tr -d ^M &gt; unix-file</p><p>2.3 perl 스크립트</p><p>다음과 같이 하면 여러파일을 한번에 바꾸게 됩니다. # perl -i -pe &rsquo;s/\015//g&rsquo; *.html</p><p>*** How to insert CR, LF in SQR *** chr(13) is the indicator for Carriage Return (CR). chr(10) is the character for Line Feed (LF). Here is example code that uses both:</p><p>let $cr = chr(13) let $lf = chr(10) let $crlf = $cr || $lf</p><div id=disqus_thread></div><script type=text/javascript>
        (function() {
            
            
            if (window.location.hostname == "localhost")
                return;

            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            var disqus_shortname = 'kiyeon';
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href="http://disqus.com/" class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><footer>Kiyeon&#39;s Blog</footer><script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-79101-12', 'auto');
    ga('send', 'pageview');

</script></body></html>